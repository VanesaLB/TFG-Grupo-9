<section>
  <div id="botones">
    <button (click)="mostrarTodos()">Todos</button>
    <button (click)="filtrarPorSinGluten()">Sin Gluten</button>
    <button (click)="filtrarPorVeganos()">Veganos</button>
  </div>

  <div id="contenedor_tarjetas">
    <h1>Entrantes</h1>
    <div class="tipo_tarjetas">
      <ng-container *ngFor="let product of products">
        <div *ngIf="product.tipo === 'ENTRANTE'" class="tarjeta">
          <img class="imgProducto" [alt]="product.idProducto" [src]="'assets/images_web/platos/' + product.idProducto + '.png'">
          <div class="textoProducto">
            <h2>{{ product.descripcion | titlecase }}</h2>
            <p>{{ product.ingredientes }}</p>
            <p>{{ product.precio | currency: 'EUR' }}</p>
          </div>
          <input type="number"
            name="product{{product.idProducto}}"
            min="0"
            value="{{ isQuantityMap[product.idProducto] }}"
            step="1"
            (change)="saveCheckQuantityLocalStorage($event, product.idProducto)">
        </div>
      </ng-container>
    </div>

    <h1>Principales</h1>
    <div class="tipo_tarjetas">
      <ng-container *ngFor="let product of products">
        <div *ngIf="product.tipo === 'PRINCIPAL'" class="tarjeta">
          <img class="imgProducto" [alt]="product.idProducto" [src]="'assets/images_web/platos/' + product.idProducto + '.png'">
          <div class="textoProducto">
            <h2>{{ product.descripcion | titlecase }}</h2>
            <p>{{ product.ingredientes }}</p>
            <p>{{ product.precio | currency: 'EUR' }}</p>
          </div>
          <input type="number"
            name="product{{product.idProducto}}"
            min="0"
            value="{{ isQuantityMap[product.idProducto] }}"
            step="1"
            (change)="saveCheckQuantityLocalStorage($event, product.idProducto)">
        </div>
      </ng-container>
    </div>

    <h1>Postres</h1>
    <div class="tipo_tarjetas">
      <ng-container *ngFor="let product of products">
        <div *ngIf="product.tipo === 'POSTRES'" class="tarjeta">
          <img class="imgProducto" [alt]="product.idProducto" [src]="'assets/images_web/platos/' + product.idProducto + '.png'">
          <div class="textoProducto">
            <h2>{{ product.descripcion | titlecase }}</h2>
            <p>{{ product.ingredientes }}</p>
            <p>{{ product.precio | currency: 'EUR' }}</p>
          </div>
          <input type="number"
            name="product{{product.idProducto}}"
            min="0"
            value="{{ isQuantityMap[product.idProducto] }}"
            step="1"
            (change)="saveCheckQuantityLocalStorage($event, product.idProducto)">
        </div>
      </ng-container>
    </div>

    <h1>Bebidas</h1>
    <div class="tipo_tarjetas">
      <ng-container *ngFor="let product of products">
        <div *ngIf="product.tipo ==='BEBIDAS'" class="tarjeta">
          <img class="imgProducto" [alt]="product.idProducto" [src]="'assets/images_web/platos/' + product.idProducto + '.png'">
          <div class="textoProducto">
            <h2>{{ product.descripcion | titlecase }}</h2>
            <p>{{ product.ingredientes }}</p>
            <p>{{ product.precio | currency: 'EUR' }}</p>
          </div>
          <input type="number"
            name="product{{product.idProducto}}"
            min="0"
            value="{{ isQuantityMap[product.idProducto] }}"
            step="1"
            (change)="saveCheckQuantityLocalStorage($event, product.idProducto)">
        </div>
      </ng-container>
    </div>
  </div>

  <div id="contenedor_pedido">
    <table>
    <caption>Mi pedido</caption>
      <thead>
        <tr>
          <th>Platos y bebidas</th>
          <th>Cantidad</th>
          <th>Importe</th>
        </tr>
      </thead>
      <tbody *ngFor="let product of productsMiPedido" (change)="mostrarMiPedido()">
        <tr>
          <td>{{product.descripcion | titlecase}}</td>
          <td>{{productsLocalStNo[product.idProducto]}}</td>
          <td>{{ product.precio | currency: 'EUR' }}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td></td>
          <td></td>
          <td id="total">{{ mostrarTotal() | currency: 'EUR' }}</td>
        </tr>
      </tfoot>
    </table>
    <button type="submit" (click)="enviarMiPedido()">Enviar</button>
    <button type="submit" (click)="resetMiPedido()">Borrar</button>
  </div>
</section>


